;(function(f){var x=!1,u="ontouchstart"in window,z=u?"orientationchange":"resize",F="devicePixelRatio"in window?window.devicePixelRatio:1,E=function(G,q,E){function m(k,b){if(x)setTimeout(function(){m(k,b)},100);else{var h=c.width(),d=f(".item",l),e=d.length-1,v;d.eq(a.currentSlide).attr("aria-hidden","false");d.not(":eq("+a.currentSlide+")").attr("aria-hidden","true");c.data("busyAnimating",!0);switch(k){case "prev":a.currentSlide=0===a.currentSlide?e:a.currentSlide-1;v={marginLeft:-(h*a.currentSlide)};
break;case "next":a.currentSlide=a.currentSlide===e?0:a.currentSlide+1;v={marginLeft:-(h*a.currentSlide)};break;case "goto":a.currentSlide=b,v={marginLeft:-(h*b)}}a.navigation&&f(".slider-nav a",c).removeClass("active").eq(a.currentSlide).addClass("active");l.animate(v,a.speed,function(){c.data("busyAnimating",!1);r(c)})}}function t(a,b){var h=c.add(c.find("img")).filter("img"),d=h.length;d?h.each(function(){var h=f(this),c=function(){h.off("load error",c);a?(d--,0==d&&b()):b()};h.on("load error",
c);if("complete"==this.readyState)h.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)h.trigger("load");else if(void 0===this.complete){var g=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=g}}):b()}function w(){var k=f(".item",c);k.eq(a.currentSlide).attr("aria-hidden","false");k.not(":eq("+a.currentSlide+")").attr("aria-hidden","true");H(c,a.navigation);a.responsive&&a.breakpoints.constructor===Array&&a.breakpoints.length?
A(c):t(!1,function(){var b=c.width(),a=k.length*b;k.width(b);f(".placeholder",c).width(a);r(c)});"onComplete"in a&&t(!0,a.onComplete);c.on("click",".navigate",function(b){b.preventDefault();b=f(".navigate",c).index(this);m("goto",b)}).on("keypress",function(b){13==b.which&&(f(this).click(),b.preventDefault())});if(u)c.on("touchstart touchmove touchend",function(b){var a;if("undefined"!==typeof b&&"undefined"!==typeof b.originalEvent.touches)switch(a=b.originalEvent.touches[0],b.originalEvent.type){case "touchstart":case "mousedown":g[b.originalEvent.type].x=
a.pageX;g[b.originalEvent.type].y=a.pageY;break;case "touchmove":case "mousemove":g[b.originalEvent.type].x=a.pageX;g[b.originalEvent.type].y=a.pageY;break;case "touchend":case "mouseup":c.data("busyAnimating")||(g[b.originalEvent.type]=!0,-1<g.touchstart.x&&-1<g.touchmove.x&&(b=Math.abs(g.touchstart.x-g.touchmove.x),a=Math.abs(g.touchstart.y-g.touchmove.y),b>a&&b>.33*y()&&(g.direction=g.touchstart.x<g.touchmove.x?"left":"right","left"===g.direction?m("prev"):"right"===g.direction&&m("next"))))}p.stopAuto()});
else c.on("click",".prev, .next",function(b){b.preventDefault();p.stopAuto();m(this.rel)}).on("keypress",function(b){13==b.which&&(f(this).click(),b.preventDefault())});if(a.responsive)f(window).on(z,B(function(){A(c)},250));f(window).on(z,B(function(){r(c)},250))}var c=f(G),l=c.find(".placeholder");q=q||{};var a=f.extend({},f.fn.sliderBox.defaults,q),g={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},C,p={addSlides:function(k){var b=f(".item",l).eq(0).clone(),h;
"breakpoints"in a&&(viewPortWidth=y(),breakpoint=D(a.breakpoints,viewPortWidth),breakpointVal=p.isEmpty(breakpoint)?elBreakpointVal=a.defaultBreakpoint.folder:breakpoint.folder-0);for(var d=0;d<k.length;d++){for(var e in k[d])"img"===e?"breakpoints"in a?b.attr("data-img",k[d][e].src).attr("data-breakpoint",k[d][e].folder).find("img").attr("src",("path"in a&&"absolute"===a.path?"/":"")+k[d][e].folder.replace("{folder}",breakpointVal)+k[d][e].src):b.find("img").attr("src",("path"in a&&"absolute"===
a.path?"/":"")+k[d][e].folder+k[d][e].src):f(".item ."+e,b).html(k[d][e]);l.append(b);d||(h=f(".item",l).length-1)}k=f(".item",l);b=k.length*k.eq(0).width();q.currentSlide=k.length-1;l.width(b);m("goto",h)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeSlider:function(){c.remove()},startAuto:function(){if(!1 in a||!a.auto)a.auto=3E3;C=setInterval(function(){m("next")},a.auto)},stopAuto:function(){clearInterval(C)}},B=function(a,b,h){var d;return function(){var e=
this,f=arguments,c=h&&!d;clearTimeout(d);d=setTimeout(function(){d=null;h||a.apply(e,f)},b);c&&a.apply(e,f)}},y=function(){for(var a=0,b=Math,h=window.screen.width,d=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],e;a<d.length;a++)isNaN(d[a])&&(d.splice(a,1),a--);d.length&&(e=b.max.apply(b,d),isNaN(h)||(e=b.min(h,e)));return e||h||0},A=function b(h){var d,e,c,g,n;p.stopAuto();h.data("busyAnimating")?setTimeout(function(){b(h)},
250):(d=y(),d=D(a.breakpoints,d),c=h.parent().width(),n=f(".placeholder",h),g=f(".item",n),x=!1,e=p.isEmpty(d)?elBreakpointVal=a.defaultBreakpoint.folder:d.folder-0,h.width(c),g.width(c),n.css({marginLeft:0-c*a.currentSlide,width:c*g.length}),e!==a.currentBreakpoint?(g.each(function(b,d){var c=f(d),g=c.attr("data-breakpoint"),c=c.find("img");if(c.length){if(b===a.currentSlide)c.one("load",function(){r(h)});"undefined"!==typeof g&&!1!==g&&c.attr("src",("path"in a&&"absolute"===a.path?"/":"")+(g+this.getAttribute("data-img")).replace("{folder}",
e))}else b===a.currentSlide&&r(h)}),a.currentBreakpoint=e):r(h),a.auto&&p.startAuto())},D=function(a,c){for(var d=c,e=0,f={},g,n,l,m;g=a[e];){n=g.minWidth;l=g.maxWidth;m="minDevicePixelRatio"in g?g.minDevicePixelRatio:0;if(0<c){if(n&&l&&c>=n&&c<=l||n&&!l&&c>=n||l&&!n&&c<=l)if(!m||m&&F>=m)f=g}else if(0>=d||n<d||l<d)d=n||l||d,f=g;e++}return f},H=function(a,c){if(c||u){for(var d=f('<nav class="slider-nav '+c+'" aria-controls="carousel"><ul></ul></nav>'),e=0;e<f(".item",a).length;e++)f("ul",d).append('<li><a class="navigate" href="#">'+
e+"</a></li>");f("a.navigate",d).eq(0).addClass("active");a.append(d)}else a.prepend('<nav aria-controls="carousel"><a href="#" class="prev" aria-label="previous" rel="prev">&lt;</a> <a href="#" class="next" rel="next" aria-label="next">&gt;</a></nav>')},r=function(b){var c=f(".item",b).eq(a.currentSlide).outerHeight();b.animate({height:c})};"breakpoints"in a&&!a.responsive&&(a.responsive=!0);"ajax"in a?f.ajax({url:a.ajax,dataType:"json"}).done(function(b){var g=f(".item",c).eq(0),d;if("slides"in
b){f(".loading",c).remove();for(var e=0;e<b.slides.length;e++){d=g.clone();for(var m in b.slides[e])"image"===m?a.responsive?d.attr("data-breakpoint",b.slides[e].image.path).attr("data-img",b.slides[e].image.img):d.find("img").attr("src",b.slides[e].image.path+b.slides[e].image.img):d.find("."+m).html(b.slides[e][m]);l.append(d);"image"in b.slides[e]||f(".item",l).last().find("img").remove()}f(".item",c).eq(0).remove();w()}else throw f(".loading",c).html("No slides found, or misformatted json response."),
Error("No slides found, or misformatted json response.");}):w();return p};f.fn.sliderBox=function(u,q){return this.each(function(x,m){var t=f(this);if(t.data("sliderBox"))return t.data("sliderBox");var w=new E(this,u,q);t.data({busyAnimating:!1,sliderBox:w})})};f.fn.sliderBox.defaults={auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"1170",minWidth:320,
maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,defaultBreakpoint:{folder:"1170"},navigation:!1,responsive:!1,speed:500}})(jQuery);